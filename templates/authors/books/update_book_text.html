{% extends 'profile_base.html' %}

{% block title %}
    Изменить Настройки Книги
{% endblock title %}

{% block content %}
    <section class="section">
        <h1 class="title is-4">{{ book.title }}</h1>
        <div class="tabs">
            <ul>
                <li><a href="{% url 'books:update_book' book.id %}">Настройки</a></li>
                <li class="is-active"><a href="{% url 'books:update_book_content' book.id %}">Текст</a></li>
            </ul>
        </div>
        <div class="block">
            <p><strong>Размер: </strong><span
                    class="ml-1">{{ book.get_total_len }} зн., {{ book.get_total_author_list_len }} а.л</span></p>
            <p><strong>Статус: </strong><span class="ml-1">{{ book.get_status_display }}</span></p>
            <p><strong>Скачивание: </strong><span class="ml-1">{{ book.get_can_download_options }}</span></p>
        </div>
        <div class="block">
            <a href="{% url 'chapters:add_chapter' book.id %}" class="button is-link">Добавить часть</a>
        </div>
        <div class="block">
            <div class="is-grouped">
                <a href="" class="button is-success">Изменить статус на "завершено"</a>
                <a href="" class="button is-warning ml-4">Ознакомительный фрагмент</a>
                <a href="" class="button is-danger is-outlined is-pulled-right">Удалить</a>
            </div>
        </div>
        <div class="block">
            <h4 class="is-size-4">Содержание</h4>
        </div>
        <div class="columns is-multiline">
            {% for chapter in book.chapters.all %}
                <div class="column is-12 mt-2">
                    <div class="columns">
                        <div class="column is-4">
                            <p><b>{{ chapter.title }}</b></p>
                        </div>
                        <div class="column is-4">
                            <span class="ml-1">{{ chapter.get_chapter_status }}</span>
                            <span class="ml-1">({{ chapter.get_chapter_len }} знаков)</span>
                        </div>
                        <div class="column is-grouped is-4 has-text-right chapter-buttons">
                            <a href="" class="button is-small"><i class="fas fa-pencil-alt"></i></a>
                            <a href="" class="button is-small"><i class="fas fa-book-open"></i></a>
                            <a href="" class="button is-small"><i class="far fa-eye"></i></a>
                            <a href="" class="button is-small is-danger is-outlined"><i
                                    class="fas fa-trash-alt"></i></a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </section>
{% endblock content %}